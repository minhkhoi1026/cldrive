//{"Te0":4,"Te1":5,"Te2":6,"Te3":7,"Teg":1,"aes_key":2,"data":0,"s":3,"t":8}
int hook(int argId, int id) {
	int gID = get_global_id(0);
	printf("%d,%d,%d\n", gID, argId, id);
	return id;
}
kernel void AES128encKernel(global unsigned int* data, global unsigned int* Teg, constant unsigned int* aes_key) {
  local unsigned int t[256];
  local unsigned int s[256];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = data[hook(0, (get_global_id(0) + mul24((int)get_global_id(1), (int)get_global_size(0))))] ^ aes_key[hook(2, get_local_id(0))];
  local unsigned int Te0[256];
  local unsigned int Te1[256];
  local unsigned int Te2[256];
  local unsigned int Te3[256];
  Te0[hook(4, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Teg[hook(1, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))];
  Te1[hook(5, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Teg[hook(1, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)) + 256)];
  Te2[hook(6, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Teg[hook(1, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)) + 512)];
  Te3[hook(7, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Teg[hook(1, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)) + 768)];
  barrier(0x01);

  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (s[hook(3, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (s[hook(3, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, s[(hook(3, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 4)];
  ;
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (t[hook(8, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (t[hook(8, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, t[(hook(8, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 8)];
  ;
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (s[hook(3, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (s[hook(3, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, s[(hook(3, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 12)];
  ;
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (t[hook(8, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (t[hook(8, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, t[(hook(8, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 16)];
  ;
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (s[hook(3, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (s[hook(3, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, s[(hook(3, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 20)];
  ;
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (t[hook(8, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (t[hook(8, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, t[(hook(8, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 24)];
  ;
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (s[hook(3, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (s[hook(3, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, s[(hook(3, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 28)];
  ;
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (t[hook(8, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (t[hook(8, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, t[(hook(8, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 32)];
  ;
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] = Te0[hook(4, s[hook(3, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te1[hook(5, (s[hook(3, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te2[hook(6, (s[hook(3, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= Te3[hook(7, s[(hook(3, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24)];
  t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))] ^= aes_key[hook(2, get_local_id(0) + 36)];
  ;
 private
  unsigned int p_state = (Te2[hook(6, (t[hook(8, ((mul24(4, (int)get_local_id(1))) + get_local_id(0)))]) & 255)] & 0x000000ff);
  p_state ^= (Te3[hook(7, (t[hook(8, (1 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 8) & 255)] & 0x0000ff00);
  p_state ^= (Te0[hook(4, (t[hook(8, (2 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1))))] >> 16) & 255)] & 0x00ff0000);
  p_state ^= (Te1[hook(5, (t[(hook(8, (3 + get_local_id(0)) % 4 + (mul24(4, (int)get_local_id(1)))) >> 24))] & 0xff000000);
  p_state ^= aes_key[hook(2, get_local_id(0) + 40)];
  data[hook(0, (get_global_id(0) + mul24((int)get_global_id(1), (int)get_global_size(0))))] = p_state;
  ;
}